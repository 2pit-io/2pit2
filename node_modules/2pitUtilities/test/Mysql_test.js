const mysql = require('2pitUtilities/Mysql');
const Sql = require('2pitCore/model/Sql');
const or = Sql.or;
const and = Sql.and;
const not = Sql.not;
const assert = require('assert');

assert.equal(not().lt('property', 'aa').serialize(), '(NOT property < "aa")');
assert.equal(and().ge('property1', 'aa').lt('property2', -1).serialize(), '(property1 >= "aa" AND property2 < "-1")');
assert.equal(and(not().isNull('property1'), or().ge('property2', 'aa').lt('property2', -1)).serialize(), '((NOT property1 IS NULL) AND (property2 >= "aa" OR property2 < "-1"))');

let where = not().lt('property', 'aa');
assert.equal(and(and().eq('instance_id', 1), where).serialize(), '((instance_id = "1") AND (NOT property < "aa"))');

'SELECT core_place.id, instance.id as instance_id FROM `core_place` left join core_instance as instance on core_place.instance_id = instance.id';